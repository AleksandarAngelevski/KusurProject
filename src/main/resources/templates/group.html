<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <title th:text="${group.name}"></title>
    <link rel="stylesheet" type="text/css" th:href="@{/style/group.css}" href="../static/style/group.css" >
    <link rel="stylesheet" type="text/css" th:href="@{/style/loadingSpinner.css}" href="../static/style/loadingSpinner.css" >
</head>
<body>

<nav>
    
    <a th:href="@{~/account}" id="account">Account</a>
    <a th:href="@{~/home}" id="dashboardLink">Dashboard</a>
<form th:action="@{/logout}" method="post">
    <input type="submit" id="sign-out-btn" value="Sign Out"/>
</form>
</nav>  
<div class="container">
    <div class="left">
        <div class="members-container">
            <ul >
                <li th:each="user : ${users}" ><a th:href="@{'~/friends/' +${user.username}}" th:text="${user.username}"></a></li>
            </ul>
        </div>
    </div>
    <div class="middle">
        <div class="settleExpenses-container">
            <button id="settle-expense-btn">Settle Expense</button>
        </div>
        <div class="group-net-balances-container">
            <ul>
                <li th:each="balance : ${groupBalances}" th:text="${balance.message}" th:data-debtor="${balance.debtor.username}" th:data-debtee="${balance.debtee.username}"></li>
            </ul>
        </div>
        <div class="expenses-container">
            <div class="expense" th:each="expense : ${expenses}">
                <h1 th:text="${expense.description}"></h1>
                <h2 th:text="'Total: ' +${expense.amount}+ 'MKD'"></h2>
                <ul>
                <li th:text="'Created by:'+${expense.creator}"></li>
            </ul></div>
        </div>
    </div>
    <div class="right">
        <div class="addExpense-container">
            <button id="add-expense-btn">Add Expense</button>
        </div>
    </div>
    
    
    
</div>

    <div id="overlay"></div>
    <div class="settle-expense-modal">
        <span id="close-btn-modal">Close</span>
        <div class="settle-expense-modal-wrapper">
            
        </div>
        
    </div>
    <!-- <div class="add-expense-modal" style="display: none;">
        <div class="wrapper">
            <div class="row1">
                <input type="text" name="" id="sum" placeholder="Sum..." style="width: 50%;"><button style="width: 50%;">Add expense</button>
            </div>
            <div class="row2">
                <input type="text" name="" id="description" placeholder="Description..." style="width: 100%;">
            </div>
        </div>
        <div class="payee">Paid by : </div>
        <div class="payee-modal">
            <div class="user">user1</div>
            <div class="user">user2</div>
            <div class="user">user3</div>
            <div class="user">user4</div>
        </div>
        <div class="groupMembers">
            <div class="user">user1</div>
            <div class="user">user2</div>
            <div class="user">user3</div>
            <div class="user">user4</div>
        </div>
    </div>
     -->
    <span style="display:none;" sec:authentication="name" id="usernameeee">thymeleaf</span>
    <span style="display:none;" th:text="${group.id}" id="groupId">thymeleaf</span>
<script  th:src="@{/script/expenseModlue.js}" type="module" src="../static/script/expenseModlue.js"></script>
<script  th:src="@{/script/settleExpenseModule.js}" type="module" src="../static/script/settleExpenseModule.js"></script>
<script  th:src="@{/script/loadingSpinnerModule.js}" type="module" src="../static/script/loadingSpinnerModule.js"></script>
<script th:src="@{/script/group.js}" type="module" src="../static/script/group.js"></script>
</body>
